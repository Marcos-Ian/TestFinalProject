<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controller.ReservationController"
            prefHeight="700.0" prefWidth="900.0">

    <top>
        <HBox spacing="15" alignment="CENTER_LEFT" style="-fx-background-color: #f5f5f5; -fx-padding: 10;">
            <Button fx:id="backButton" text="â† Back"/>
            <Label fx:id="titleLabel" text="Reservation Details">
                <font><Font name="System Bold" size="20"/></font>
            </Label>
            <Region HBox.hgrow="ALWAYS"/>
            <Label fx:id="reservationIdLabel" text="ID: #0000">
                <font><Font name="System Bold" size="14"/></font>
            </Label>
            <Label fx:id="statusBadge" text="BOOKED"/>
        </HBox>
    </top>

    <center>
        <ScrollPane fitToWidth="true">
            <!-- Guest Information -->
            <VBox spacing="10" styleClass="section-box">
                <Label text="Guest Information" styleClass="header-label"/>
                <GridPane hgap="15" vgap="8">
                    <!-- existing rows -->
                    <Label text="Name:" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                    <Label fx:id="guestNameLabel" text="" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                    <Label text="Phone:" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                    <Label fx:id="guestPhoneLabel" text="" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                    <Label text="Email:" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                    <Label fx:id="guestEmailLabel" text="" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                    <Label text="Loyalty:" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                    <HBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="3">
                        <Label fx:id="loyaltyStatusLabel" text="No"/>
                        <Button fx:id="enrollLoyaltyButton" text="Enroll" visible="false" managed="false"/>
                    </HBox>

                    <!-- FIXED: put sections on their own rows -->
                    <VBox fx:id="loyaltyNumberSection"
                          spacing="5"
                          visible="false"
                          managed="false"
                          GridPane.columnIndex="0"
                          GridPane.rowIndex="4"
                          GridPane.columnSpan="2">
                        <Label text="Loyalty Number:" styleClass="section-label"/>
                        <Label fx:id="loyaltyNumberLabel"/>
                    </VBox>

                    <VBox fx:id="loyaltyPointsSection"
                          spacing="5"
                          visible="false"
                          managed="false"
                          GridPane.columnIndex="0"
                          GridPane.rowIndex="5"
                          GridPane.columnSpan="2">
                        <Label text="Loyalty Points:" styleClass="section-label"/>
                        <Label fx:id="loyaltyPointsLabel"/>
                    </VBox>

                </GridPane>
            </VBox>

        </ScrollPane>
    </center>

</BorderPane>